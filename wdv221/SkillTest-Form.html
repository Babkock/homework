<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<link rel="stylesheet" type="text/css" href="../assets/css/style.css" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>WDV221 Intro Javascript - Skill Test Form Calculations</title>
</head>

<body>
<h1>WDV221 Intro Javascript</h1>
<h2>Skill Test - Form Calculations</h2>
<form id="form1" name="form1">
  <table>
     <tr>
      <td>Item Name:</td>
      <td><input type="text" name="itemName" id="itemName" /></td>
    </tr> 
    <tr>
      <td>Item Price:</td>
      <td><input type="text" name="itemPrice" id="itemPrice" /></td>
    </tr>
    <tr>
      <td>Number Purchased:</td>
      <td><input type="text" name="itemQuantity" id="itemQuantity" /></td>
    </tr>
    <tr>
      <td>Sale Price:</td>
      <td id="salePrice"></td>
    </tr>
    <tr>
      <td>&nbsp;</td>
      <td>&nbsp;</td>
    </tr>
    <tr>
      <td>Total Sales: </td>
      <td><p id="totalSales"> </p></td>
    </tr>
  </table>
</form>
  <p>
	<button id="button">Submit Order</button>
	<button id="button2">Reset</button>
	<button id="button3">Clear Order</button>
  </p>
<p>Your Order So Far:</p>
<p id="currentOrder">

</p>
<p><em>An example display:</em></p>
<p><em>Pens	$3.25</em></p>
<p><em>Pens	$9.90</em></p>
<p>&nbsp;</p>
<h3>Instructions: Modify this page so that the form works as described.</h3>
<ul>
  <li>The customer making an order is allowed to enter a product name, price and quantity to be purchased.</li>
  <li>When the customer submits the order the form will calculate the sale price and display it on the Sale Price line.</li>
  <li>When the customer submits the order the form will add the product name and sale price to a list of products purchased and displayed on the form.</li>
  <li>When the customer submits the order the form will add the Sale Price to the Total Sales value and display the new value on the form. </li>
  <li>All dollar amounts should be formatted as US currency.</li>
  <li>The Item Price field should be a number and should allow decimal values.</li>
  <li>The Number Purchased field should be a number and should only allow whole numbers/integers.</li>
  <li>The Reset button should clear the form fields and the Sale Price</li>
  <li>The Clear Order button should clear the form fields, the Sale Price, reset the Total Sales to zero and clear the Order area.</li>
</ul>
<p>&nbsp;</p>
<script>

var sales = [];

function clear() {
	document.querySelector("#itemName").value = "";
	document.querySelector("#itemPrice").value = "";
	document.querySelector("#itemQuantity").value = "";
	document.querySelector("#salePrice").innerHTML = "";
}

function computeSales() {
	var total = 0.0;
	sales.forEach(function (item, index) {
		total += item;
	});
	total = '$' + total.toFixed(2);
	document.querySelector("#totalSales").innerHTML = total;
}

document.querySelector("#button").addEventListener("click", function() {
	var name = document.querySelector("#itemName").value;
	var price = parseFloat(document.querySelector("#itemPrice").value);
	var quantity = parseInt(document.querySelector("#itemQuantity").value);

	var totalPrice = (price * quantity);
	document.querySelector("#salePrice").innerHTML = "$" + totalPrice.toFixed(2);
	sales.push(totalPrice);
	computeSales();
	
	document.querySelector("#currentOrder").innerHTML += "<p>" + name + " " + "$" + totalPrice + "</p>";
});

document.querySelector("#button2").addEventListener("click", clear);

document.querySelector("#button3").addEventListener("click", function() {
	clear();
	document.querySelector("#totalSales").innerHTML = "";
	document.querySelector("#currentOrder").innerHTML = "";
});

</script>
</body>
</html>

