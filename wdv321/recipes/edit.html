<!DOCTYPE html>
<!--
	Dynamic Recipes Project
	October - November 2020
	Copyright (c) 2020 Tanner Babcock
-->
<html lang="en">
<head>
	<meta charset="utf-8" />
	<title>Awesome Recipes &bull; Edit</title>
	<link rel="icon" type="image/png" href="/images/favicon.png" />
	<link rel="stylesheet" href="/homework/assets/css/recipesProject.css" />
	<link rel="stylesheet" href="/homework/assets/css/ingredient.css" />
	<script src="https://unpkg.com/vue@2.6.11"></script>
	<script src="/homework/assets/js/ingredient.js"></script>
</head>
<body>
	<div class="container">
		<header>
			<h1>Awesome Recipe Editor</h1>
			<nav>
				<ul>
					<li><a href="home.html" title="Awesome Recipes Home Page" alt="Awesome Recipes Home Page">Home</a></li>
					<li><a href="edit.html" title="Go to Recipe Editor" alt="Go to Recipe Editor">Edit Recipes</a></li>
					<li><a href="#" title="Dummy Link" alt="Dummy Link">Contact</a></li>
					<li><a href="#" title="Dummy Link" alt="Dummy Link">Staff</a></li>
				</ul>
			</nav>
		</header>
		<main id="editor">
			<form method="post" enctype="multipart/form-data">
				<div class="formflex large">
					<span><b>Filename of Recipe</b></span>
					<input type="text" v-model="recipe.filename" placeholder="Filename" @blur="recipe.file = $event.target.value" />
				</div>
				<div class="formflex">
					<span><b>Title of Recipe:</b></span>
					<input type="text" v-model="recipe.title" placeholder="Pepperjack Mac n Cheese" @blur="recipe.title = $event.target.value" />
				</div>
				<div class="formflex">
					<span><b>Image Filename:</b></span>
					<input type="text" v-model="recipe.image" placeholder="img/test.jpg" @blur="recipe.image = $event.target.value" />
				</div>
				<div class="formflex">
					<span><b>Difficulty:</b></span>
					<select v-model="recipe.difficulty" @change="recipe.difficulty = $event.target.value">
						<option value="easy">Easy</option>
						<option value="medium">Medium</option>
						<option value="hard">Hard</option>
					</select>
				</div>
				<div class="formflex">
					<span><b>Preparation Time:</b></span>
					<input type="number" v-model="recipe.preparation.quantity" @blur="recipe.preparation.quantity = parseInt($event.target.value)" />
					<select v-model="recipe.preparation.measurement" @change="recipe.preparation.measurement = $event.target.value">
						<option value="seconds">seconds</option>
						<option value="minutes">minutes</option>
						<option value="hours">hours</option>
						<option value="days">days</option>
					</select>
				</div>
				<table><tbody v-if="recipe.ingredients">
					<tr is="ingredient" v-for="(ing, index) in recipe.ingredients" :key="index" :id="index" :value="index" :name="index" title="Enter the number of the given ingredient" @optinput="ing.optional = $event" @numinput="ing.quantity = $event" @inginput="ing.name = $event" @measinput="ing.measurement = $event"></tr>
				</tbody></table>
				<center>
					<p>
						<button @click="$event.preventDefault(); AddIngredient()">Add Ingredient</button> &nbsp;&bull;&nbsp;&nbsp;
						<button @click="$event.preventDefault(); RemoveIngredient()">Remove Last Ingredient</button>
					</p>

					<button @click="$event.preventDefault(); StoreObjectAs(recipe.filename); alert('Recipe saved successfully');">Save Recipe</button>
				</center>
			</form>
		</main>
		<footer>
			<p><a href="/homework/wdv321/localStorage/home.html" title="Previous assignment" alt="Previous assignment">Unit 6: Demonstrate Local Storage</a></p>
			<p><a href="/homework/index">&rarr; Return to WDV321 Homework &larr;</a></p>
			<p>Copyright &copy; 2020 Tanner Babcock.</p>
		</footer>
	</div>
	<script src="/homework/assets/js/editor.min.js"></script>
</body>
</html>