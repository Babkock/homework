<!DOCTYPE html>
<!--
	Unit 6: Demonstrate Local Storage
	Tanner Babcock
	October 6, 2020
-->
<html lang="en">
<head>
	<title>Local Storager &bull; Home</title>
	<meta charset="utf-8" />
	<link rel="stylesheet" href="../../assets/css/style.css" />
	<link rel="icon" type="image/png" href="/images/favicon.png" />
	<script src="../../assets/js/jquery-3.5.1.min.js"></script>
	<script src="../../assets/js/unit6.js"></script>
	<script>
	$(document).ready(function() {
		var storage = window.localStorage;
		var analytics = storage.getItem("analytics");
		if (!analytics) {
			storage.setItem("analytics", document.referrer);
			console.log("Created analytics cookie\n");
		}
		else {
			storage.removeItem("analytics");
			storage.setItem("analytics", document.referrer);
			console.log("Changed analytics storage item to " + document.referrer + "\n");
		}

		var visits = storage.getItem("display");
		if (!visits || (parseInt(visits) == 0)) {
			storage.setItem("display", "1");
			console.log("Starting new display cookie\n");
		}
		else {
			visits = parseInt(visits);
			visits++;
			storage.removeItem("display");
			storage.setItem("display", ""+visits, 3);
			console.log("Incremented display cookie to " + visits + ".\n");
		}
	});
	</script>
</head>
<body>
	<h1>Local Storager</h1>
	<nav>
		<ul>
			<li><a href="home.html" title="Local Storager Home Page" alt="Local Storager Home Page">Home</a></li>
			<li><a href="about.html" title="About Local Storager" alt="About Local Storager">About</a></li>
			<li><a href="#" title="Dummy Link" alt="Dummy Link">Contact</a></li>
			<li><a href="#" title="Dummy Link" alt="Dummy Link">Staff</a></li>
		</ul>
	</nav>
	<p>This assignment looks like the Cookiebar Crunch one, but it is different in that it uses local storage instead.</p>
	<div class="box">
		<h2>Login</h2>
		<script>
		var storage = window.localStorage;
		var auth = storage.getItem("authentication");
		if ((auth != null) && (auth.localeCompare("ff7371c78b19c0a7297") == 0)) {
			document.write("<p style=\"color:lime\">You are authenticated!</p>");
		}
		</script>
		<center>
			<input type="text" placeholder="Username" disabled />
			<input type="text" placeholder="Password" disabled />
			<button class="create">Secure Authentication Storage Item</button>
		</center>
	</div>
	<br /><br />
	<div class="box">
		<center><img src="/homework/wdv321/storage.jpg" /></center>
	</div>
	<footer>
		<p><a href="/homework/wdv321/cookies/home.html" alt="Previous assignment" title="Previous assignment">Unit 5: Cookies</a> &bull; <a href="/homework/wdv321/Unit-7ajax.html" alt="Next assignment" title="Next assignment">Unit 7: AJAX</a></p>
		<p><a href="/homework/index">&rarr; Return to WDV321 Homework &larr;</a></p>
	</footer>
</body>
</html>
