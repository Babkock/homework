<!DOCTYPE html>
<html lang="en">
	<head>
		<title>{{TITLE}}</title>
		<meta charset="utf-8" />
		<meta name="description" content="{{DESCRIPTION}}" />
		<link rel="icon" href="/images/favicon.png" />
		<link rel="stylesheet" href="/homework/assets/css/waxchange.css" />
		<link rel="stylesheet" href="/homework/assets/css/album.css" />
		<script src="https://unpkg.com/vue@2.6.11"></script>
		<script src="https://unpkg.com/vue-resource@1.5.1"></script>
	</head>
	<body>
		<div class="container">
			{{IF_LOGGED_IN}}
			<header>
				<h1><a href="index">WaXchange</a> <a href="settings" class="small">Settings</a></h1>
				<nav class="navigation">
					<ul>
						<li><a href="browse">Browse</a></li>
						<li><a href="album">Post Album</a></li>
						<li><a href="user?id={{USERID}}">My Account</a></li>
						<li><a href="logout">Log Out</a></li>
					</ul>
				</nav>
			</header>
			{{ENDIF}}
			{{IF_NOT_LOGGED_IN}}
			<header>
				<h1><a href="index">WaXchange</a></h1>
				<nav class="navigation">
					<ul>
						<li><a href="login">Login</a></li>
						<li><a href="register">Register</a></li>
						<li><a href="browse">Browse</a></li>
						<li><a href="about">About</a></li>
					</ul>
				</nav>
			</header>
			{{ENDNIF}}
			<main id="account">
				<h2>{{USERNAME}}</h2>
				<h3>(User ID #{{USERID}})</h3>
				<p>Email: <a href="mailto:{{USEREMAIL}}">{{USEREMAIL}}</a></p>
				<p>Country: {{USERCOUNTRY}}</p>
				<input type="hidden" name="id" id="userid" value="{{USERID}}" />
				
				<h3>Albums for Sale:</h3>
				<div class="albums-box" v-if="inventory.length > 0">
					<album v-for="(al, index) in inventory" :myid="al.id" :artist="al.artist" :posted="al.posted" :country="al.country" :key="index">
						<template slot="img">
							<img :src="al.image" />
						</template>
						<template slot="title">{{ al.title }}</template>
						<template slot="info">
							<h2>{{ al.discs }}x{{ al.media }}</h2>
							<h3><b>{{ al.price }}</b> from <b>{{ al.seller }}</b></h3>
							<button class="buy" @click="BuyAlbum(al.id)">Buy This Album</button>
						</template>
						<template slot="tracklist">
							<ol v-if="al.tracklist.length > 0">
								<li v-for="tr in al.tracklist">{{ tr.title }} ({{ tr.length }})</li>
							</ol>
						</template>
					</album>
				</div>

				<h3>Collection:</h3>
				<div class="albums-box" v-if="purchased.length > 0">
					<album v-for="(al, index) in purchased" :myid="al.id" :artist="al.artist" :posted="al.posted" :country="al.country" :key="index">
						<template slot="img">
							<img :src="al.image" />
						</template>
						<template slot="title">{{ al.title }}</template>
						<template slot="info">
							<h2>{{ al.discs }}x{{ al.media }}</h2>
							<h3><b>{{ al.price }}</b> from <b>{{ al.seller }}</b></h3>
						</template>
						<template slot="tracklist">
							<ol v-if="al.tracklist.length > 0">
								<li v-for="tr in al.tracklist">{{ tr.title }} ({{ tr.length }})</li>
							</ol>
						</template>
					</album>
				</div>
			</main>
			<footer>
				<p><a href="about">About WaXchange</a> &bull; <a href="contact">Contact</a></p>
				<p><a href="/homework/index?c=wdv341">&rarr; Return to WDV341 Homework &larr;</a></p>
				<p>Copyright &copy; 2020 Tanner Babcock.</p>
			</footer>
		</div>
		<script src="/homework/assets/js/waxAccount.min.js"></script>
	</body>
</html>
