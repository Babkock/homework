!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var i=t();for(var s in i)("object"==typeof exports?exports:e)[s]=i[s]}}(window,(function(){return function(e){var t={};function i(s){if(t[s])return t[s].exports;var r=t[s]={i:s,l:!1,exports:{}};return e[s].call(r.exports,r,r.exports,i),r.l=!0,r.exports}return i.m=e,i.c=t,i.d=function(e,t,s){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(s,r,function(t){return e[t]}.bind(null,r));return s},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=6)}({0:function(e,t,i){"use strict";function s(e,t,i,s,r,n,o,a){var p,c="function"==typeof e?e.options:e;if(t&&(c.render=t,c.staticRenderFns=i,c._compiled=!0),s&&(c.functional=!0),n&&(c._scopeId="data-v-"+n),o?(p=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),r&&r.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(o)},c._ssrRegister=p):r&&(p=a?function(){r.call(this,(c.functional?this.parent:this).$root.$options.shadowRoot)}:r),p)if(c.functional){c._injectStyles=p;var u=c.render;c.render=function(e,t){return p.call(t),u(e,t)}}else{var l=c.beforeCreate;c.beforeCreate=l?[].concat(l,p):[p]}return{exports:e,options:c}}i.d(t,"a",(function(){return s}))},6:function(e,t,i){"use strict";i.r(t);var s={props:{id:{type:Number,required:!0},numSize:{type:String,default:"5"},ingSize:{type:String,default:"50"},mmnt:{type:String,default:""},quant:{type:String,required:!0},ing:{type:String,required:!0},opt:{type:String,default:"no"}},computed:{myid:function(){return"ingred"+this.id},numName:function(){return"ingred"+this.id+"_quantity"},ingName:function(){return"ingred"+this.id+"_name"},selName:function(){return"ingred"+this.id+"_measurement"},optName:function(){return"ingred"+this.id+"_opt"},numVmodl:function(){return"recipe.ingredients["+this.id+"].quantity"},ingVmodl:function(){return"recipe.ingredients["+this.id+"].name"},selVmodl:function(){return"recipe.ingredients["+this.id+"].measurement"},optVmodl:function(){return"recipe.ingredients["+this.id+"].opt"}},methods:{changeunit(e){this.recipe.ingredients[this.id].measurement=e}}},r=(i.p,i(0)),n=Object(r.a)(s,(function(){var e=this.$createElement,t=this._self._c||e;return t("tr",{staticClass:"ingredient mob"},[t("td",{attrs:{colspan:"4"}},[this._v("\n\t\tIngredient #"+this._s(this.id+1)+"\n\t")])])}),[],!1,null,null,null).exports;Vue.component("ingredient",n),Vue.mixin({data:()=>({topStatus:"",bottomStatus:""}),methods:{StoreObject(){var e=window.localStorage;console.log("Updating storage object '"+this.lastStorageItem+"'"),e.removeItem(this.lastStorageItem),e.setItem(this.lastStorageItem,JSON.stringify(this.recipe)),console.log(JSON.stringify(this.recipe));var t=!1;this.recipeFiles.forEach((e,i)=>{e===this.lastStorageItem&&(t=!0)}),t||this.recipeFiles.push(this.lastStorageItem),StoreRecipeFiles(),this.bottomStatus='<p class="success">Recipe \'<b>'+x+"</b>' stored successfully.</p>"},StoreObjectAs(e){var t=window.localStorage;console.log("Storing object '"+e+"' in local storage"),t.setItem(e,JSON.stringify(this.recipe)),console.log(JSON.stringify(this.recipe)),this.lastStorageItem=e;var i=!1;this.recipeFiles.forEach((e,t)=>{e===this.lastStorageItem&&(i=!0)}),i||this.recipeFiles.push(e),this.StoreRecipeFiles(),this.bottomStatus='<p class="success">Recipe \'<b>'+e+"</b>' stored successfully.</p>"},LoadObject(e){var t=window.localStorage;console.log("Loading object '"+e+"'");var i,s={};(i=t.getItem(e))?(s=JSON.parse(i),this.ingredients=s.ingredients.length,this.steps=s.steps.length,this.lastStorageItem=e,this.recipe.numberOfIngreds=s.ingredients.length,this.recipe.numberOfSteps=s.steps.length,this.recipe.title=s.title,this.recipe.image=s.image,this.recipe.filename=s.filename,this.recipe.serves=s.serves,this.recipe.difficulty=s.difficulty,this.recipe.cooking.quantity=parseInt(s.cooking.quantity),this.recipe.cooking.measurement=s.cooking.measurement,this.recipe.preparation.quantity=parseInt(s.preparation.quantity),this.recipe.preparation.measurement=s.preparation.measurement,this.recipe.ingredients=[],s.ingredients.forEach((e,t)=>{this.recipe.ingredients.push({name:e.name,quantity:e.quantity,measurement:e.measurement,opt:e.opt}),console.log("Pushing ingredient "+t+': "'+e.quantity+" "+e.measurement+" "+e.name+'"')}),this.recipe.steps=[],s.steps.forEach((e,t)=>{this.recipe.steps.push(e)})):(console.error("Could not load specified item '"+e+"' from local storage"),this.bottomStatus='<p class="error">Could not load specified file \'<b>'+e+"</b>' from local storage.</p>")},StoreRecipeFiles(){var e=window.localStorage;this.recipeFiles.length>0?(console.log("Saving recipeFiles array"),e.setItem("recipeFiles",JSON.stringify(this.recipeFiles))):console.error("DEBUG: Something wrong with this.recipeFiles")}}});new Vue({el:"#editor",data:()=>({recipeFiles:[],fileToLoad:"",ingredients:3,steps:2,lastStorageItem:"",recipe:{numberOfIngreds:3,numberOfSteps:2,title:"",image:"",filename:"",serves:0,difficulty:"",preparation:{quantity:25,measurement:"minutes"},cooking:{quantity:6,measurement:"hours"},ingredients:[{quantity:1,measurement:"",name:"",opt:""},{quantity:1,measurement:"",name:"",opt:""},{quantity:1,measurement:"",name:"",opt:""}],steps:["This is step one","This is step two"]}}),methods:{AddIngredient(){this.recipe.ingredients.push({quantity:0,measurement:"",name:"",opt:""}),this.ingredients=parseInt(this.ingredients)+1,this.recipe.numberOfIngreds=parseInt(this.recipe.numberOfIngreds)+1,this.topStatus='<p class="success">Added ingredient.</p>'},RemoveIngredient(){this.recipe.ingredients.splice(this.ingredients-1,1),this.ingredients=parseInt(this.ingredients)-1,this.recipe.numberOfIngreds=parseInt(this.recipe.numberOfIngreds)-1,this.topStatus='<p class="error">Removed last ingredient.</p>'},AddStep(){this.recipe.steps.push(""),this.steps=parseInt(this.steps)+1,this.recipe.numberOfSteps=parseInt(this.recipe.numberOfSteps)+1,this.bottomStatus='<p class="success">Added step.</p>'},RemoveStep(){this.recipe.steps.splice(this.steps-1,1),this.steps=parseInt(this.steps)-1,this.recipe.numberOfSteps=parseInt(this.recipe.numberOfSteps)-1,this.bottomStatus='<p class="error">Removed last step.</p>'}},mounted(){var e=window.localStorage,t=e.getItem("fileToLoad"),i=e.getItem("recipeFiles");if(t){this.fileToLoad=t;s=this.fileToLoad}else var s=prompt("Which file would you like to edit? Enter nothing for new file");if(i){var r=JSON.parse(i);this.recipeFiles=r||["hello"]}else this.recipeFiles=["hello"];s?(this.LoadObject(s),this.topStatus='<p class="success">Loaded file \'<b>'+s+"</b>' from local storage.</p>"):(this.topStatus='<p class="success">Starting a new recipe.</p>',this.recipe.title="New Recipe Title!")}})}})}));