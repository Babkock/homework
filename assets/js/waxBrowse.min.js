!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var r=e();for(var a in r)("object"==typeof exports?exports:t)[a]=r[a]}}(window,(function(){return function(t){var e={};function r(a){if(e[a])return e[a].exports;var o=e[a]={i:a,l:!1,exports:{}};return t[a].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=t,r.c=e,r.d=function(t,e,a){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)r.d(a,o,function(e){return t[e]}.bind(null,o));return a},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=9)}({0:function(t,e,r){"use strict";function a(t,e,r,a,o,s,n,i){var c,u="function"==typeof t?t.options:t;if(e&&(u.render=e,u.staticRenderFns=r,u._compiled=!0),a&&(u.functional=!0),s&&(u._scopeId="data-v-"+s),n?(c=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),o&&o.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(n)},u._ssrRegister=c):o&&(c=i?function(){o.call(this,(u.functional?this.parent:this).$root.$options.shadowRoot)}:o),c)if(u.functional){u._injectStyles=c;var l=u.render;u.render=function(t,e){return c.call(e),l(t,e)}}else{var h=u.beforeCreate;u.beforeCreate=h?[].concat(h,c):[c]}return{exports:t,options:u}}r.d(e,"a",(function(){return a}))},1:function(t,e,r){"use strict";var a={props:{myid:{type:Number,required:!0},aartist:{type:String,default:"Unknown Artist"},atitle:{type:String,default:"Unknown Album"},aposted:{type:String,required:!0},acountry:{type:String,default:"us"}},data:()=>({showingExtra:!0,expandText:"  -  "}),computed:{artisthref:function(){return"browse?a="+encodeURI(this.aartist)},albumhref:function(){return"browse?b="+encodeURI(this.atitle)},niceposted:function(){return new Date(Date.parse(this.aposted.replace(/[-]/g,"/"))).toDateString()},countryexpand:function(){let t="";switch(this.acountry.toLowerCase()){case"us":t="United States";break;case"mx":t="Mexico";break;case"uk":t="United Kingdom";break;case"ie":t="Ireland";break;case"es":t="Spain";break;case"ca":t="Canada";break;case"de":t="Germany";break;case"ru":t="Russian Federation";break;case"dk":t="Denmark";break;case"se":t="Sweden";break;case"no":t="Norway";break;case"nl":t="Netherlands";break;case"au":t="Australia";break;case"cn":t="China";break;case"jp":t="Japan";break;case"kr":t="South Korea";break;case"ph":t="Philippines";break;case"lv":t="Latvia";break;case"cz":t="Czech Republic";break;case"br":t="Brazil";break;case"is":t="Iceland";break;case"am":t="Armenia";break;case"az":t="Azerbaijan";break;case"ch":t="Switzerland";break;case"tr":t="Turkey";break;case"at":t="Austria";break;case"ua":t="Ukraine";break;case"ba":t="Bosnia and Herzegovina";break;case"in":t="India";break;case"hu":t="Hungary";break;case"ro":t="Romania";break;default:t="Unknown Country"}return t}},methods:{ToggleAlbumDetails(){this.showingExtra=!0!==this.showingExtra,this.expandText=!0===this.showingExtra?"  -  ":"  +  "}}},o=(r.p,r(0)),s=Object(o.a)(a,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"album",attrs:{id:t.myid}},[r("div",{staticClass:"cover"},[t._t("img")],2),t._v(" "),r("h2",[r("a",{attrs:{href:t.artisthref},domProps:{textContent:t._s(t.aartist)}}),t._v(" - "),r("i",[r("a",{attrs:{href:t.albumhref},domProps:{textContent:t._s(t.atitle)}})])]),t._v(" "),r("button",{domProps:{textContent:t._s(t.expandText)},on:{click:function(e){return t.ToggleAlbumDetails()}}}),t._v(" "),t.showingExtra?r("div",[t._t("info"),t._v(" "),r("h3",[t._v("Tracklist:")]),t._v(" "),t._t("tracklist"),t._v(" "),r("p",[r("b",[t._v("Posted")]),t._v(": "),r("span",{staticClass:"date",domProps:{textContent:t._s(t.niceposted)}})]),t._v(" "),r("p",[r("b",[t._v("Country")]),t._v(": "),r("span",{staticClass:"acountry",domProps:{textContent:t._s(t.countryexpand)}})])],2):t._e()])}),[],!1,null,null,null);e.a=s.exports},9:function(t,e,r){"use strict";r.r(e);var a=r(1),o={props:{sartist:{type:String,default:""},salbum:{type:String,default:""},scountry:{type:String,default:""}},computed:{avmodl:function(){return"this.artist"},bvmodl:function(){return"this.album"},cvmodl:function(){return"this.country"}},methods:{Search(){"artist"===this.searchType?null==this.sartist||0==this.sartist.length?this.scountry.length>1&&"Anywhere"!==this.scountry?window.location.href="https://tannerbabcock.com/homework/wdv341/wax/browse?c="+this.scountry:window.location.href="https://tannerbabcock.com/homework/wdv341/wax/browse":this.scountry.length>1&&"Anywhere"!==this.scountry?window.location.href="https://tannerbabcock.com/homework/wdv341/wax/browse?a="+encodeURI(this.sartist)+"&c="+this.scountry:window.location.href="https://tannerbabcock.com/homework/wdv341/wax/browse?a="+encodeURI(this.sartist):"album"===this.searchType&&(null==this.salbum||0==this.salbum.length?this.scountry.length>1&&"Anywhere"!==this.scountry?window.location.href="https://tannerbabcock.com/homework/wdv341/wax/browse?c="+this.scountry:window.location.href="https://tannerbabcock.com/homework/wdv341/wax/browse":this.scountry.length>1&&"Anywhere"!==this.scountry?window.location.href="https://tannerbabcock.com/homework/wdv341/wax/browse?b="+encodeURI(this.salbum)+"&c="+this.scountry:window.location.href="https://tannerbabcock.com/homework/wdv341/wax/browse?b="+encodeURI(this.salbum))}}},s=(r.p,r(0)),n=Object(s.a)(o,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"search-bar"},[r("input",{directives:[{name:"show",rawName:"v-show",value:""===t.searchType||"artist"===t.searchType,expression:"searchType === '' || searchType === 'artist'"}],attrs:{type:"text",id:"search","v-model":t.avmodl,title:"Search for an artist here",alt:"Search for an artist here",placeholder:"Search Artists",size:"90",maxlength:"90"},domProps:{value:t.sartist},on:{blur:function(e){t.$emit("ainput",e.target.value),t.sartist=e.target.value}}}),t._v(" "),r("input",{directives:[{name:"show",rawName:"v-show",value:"album"===t.searchType,expression:"searchType === 'album'"}],attrs:{type:"text",id:"search","v-model":t.bvmodl,title:"Search for an album here",alt:"Search for an album here",placeholder:"Search Albums",size:"90",maxlength:"90"},domProps:{value:t.salbum},on:{blur:function(e){t.$emit("binput",e.target.value),t.salbum=e.target.value}}}),t._v(" "),r("select",{directives:[{name:"model",rawName:"v-model",value:t.searchType,expression:"searchType"}],attrs:{id:"stype",title:"Choose whether to search Artists or Albums",alt:"Choose whether to search Artists or Albums"},on:{change:function(e){var r=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.searchType=e.target.multiple?r:r[0]}}},[r("option",{attrs:{value:"artist"}},[t._v("Artist")]),t._v(" "),r("option",{attrs:{value:"album"}},[t._v("Album")])]),t._v(" "),r("select",{attrs:{"v-model":t.cvmodl,id:"country",name:"country",title:"Show only listings from this country",alt:"Show only listings from this country"},on:{change:function(e){t.$emit("cinput",e.target.value),t.scountry=e.target.value}}},[r("option",{attrs:{selected:""}},[t._v("Anywhere")]),t._v(" "),r("option",{attrs:{value:"us"}},[t._v("United States")]),t._v(" "),r("option",{attrs:{value:"ca"}},[t._v("Canada")]),t._v(" "),r("option",{attrs:{value:"mx"}},[t._v("Mexico")]),t._v(" "),r("option",{attrs:{value:"uk"}},[t._v("United Kingdom")]),t._v(" "),r("option",{attrs:{value:"ie"}},[t._v("Ireland")]),t._v(" "),r("option",{attrs:{value:"fr"}},[t._v("France")]),t._v(" "),r("option",{attrs:{value:"ru"}},[t._v("Russian Federation")]),t._v(" "),r("option",{attrs:{value:"es"}},[t._v("Spain")]),t._v(" "),r("option",{attrs:{value:"de"}},[t._v("Germany")]),t._v(" "),r("option",{attrs:{value:"pl"}},[t._v("Poland")]),t._v(" "),r("option",{attrs:{value:"lx"}},[t._v("Luxembourg")]),t._v(" "),r("option",{attrs:{value:"dk"}},[t._v("Denmark")]),t._v(" "),r("option",{attrs:{value:"se"}},[t._v("Sweden")]),t._v(" "),r("option",{attrs:{value:"ba"}},[t._v("Bosnia and Herzegovina")])]),t._v(" "),r("button",{attrs:{id:"submit"},on:{click:function(e){return t.Search()}}},[t._v("Search")])])}),[],!1,null,null,null).exports;Vue.component("album",a.a),Vue.component("search-box",n),Vue.mixin({data:()=>({searchType:"artist"}),methods:{BuyAlbum(t){window.location.href="https://tannerbabcock.com/homework/wdv341/wax/buy?id="+t},Register(){window.location.href="https://tannerbabcock.com/homework/wdv341/wax/register"}}});new Vue({el:"#browse",http:{emulateJSON:!0,emulateHTTP:!0},data:()=>({id:0,heading:"{{HEADING}}",artist:"{{BROWSE_ARTIST}}",album:"{{BROWSE_ALBUM}}",country:"{{BROWSE_COUNTRY}}",argument:"{{BROWSE_GET}}",val:"{{BROWSE_GET_VALUE}}",ajaxError:"",primary:[],secondary:[],tertiary:[]}),methods:{FetchAlbums(t){let e=this.argument,r=this.val,a=new FormData;a.append("id",this.id),"id"===e?this.$http.post("browse?id="+r,a).then(t=>{this.primary=t.data},()=>{this.ajaxError='<p class="error">Couldn\'t fetch albums from the server.</p>',console.error("Couldn't fetch album id "+r)}):"newest"===t?this.$http.post("browse?mode="+t,a).then(t=>{this.primary=t.data},()=>{this.ajaxError='<p class="error">Couldn\'t fetch albums from the server.</p>',console.error("Couldn't fetch albums with mode 'newest'.")}):"expensive"===t?this.$http.post("browse?mode="+t,a).then(t=>{this.secondary=t.data},()=>{this.ajaxError='<p class="error">Couldn\'t fetch albums from the server.</p>',console.error("Couldn't fetch albums with mode 'expensive'.")}):"purchased"===t?this.$http.post("browse?mode="+t,a).then(t=>{this.tertiary=t.data},()=>{this.ajaxError='<p class="error">Couldn\'t fetch albums from the server.</p>',console.error("Couldn't fetch albums with mode 'purchased'.")}):"artist"===t?this.$http.post("browse?mode="+t+"&a="+encodeURI(this.artist),a).then(t=>{this.primary=t.data},()=>{this.ajaxError='<p class="error">Couldn\'t fetch albums from the server.</p>',console.error("Couldn't fetch albums with mode 'artist'.")}):"album"===t?this.$http.post("browse?mode="+t+"&b="+encodeURI(this.album),a).then(t=>{this.primary=t.data},()=>{this.ajaxError='<p class="error">Couldn\'t fetch albums from the server.</p>',console.error("Couldn't fetch albums with mode 'album'.")}):"country"===t?this.$http.post("browse?mode="+t+"&c="+this.country,a).then(t=>{this.primary=t.data},()=>{this.ajaxError='<p class="error">Couldn\'t fetch albums from the server.</p>',console.error("Couldn't fetch albums with mode 'country'.")}):console.error("FetchAlbums() argument error")}},mounted(){switch(this.id=parseInt(document.querySelector("#userid").value),(""===this.country||this.country.length<1)&&(this.country="Anywhere"),this.argument){case"a":this.FetchAlbums("artist");break;case"b":this.FetchAlbums("album");break;case"c":this.FetchAlbums("country");break;default:this.FetchAlbums("newest"),this.FetchAlbums("expensive"),0!=this.id&&this.FetchAlbums("purchased")}}})}})}));